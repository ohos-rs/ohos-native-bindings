#![allow(non_camel_case_types)]

#[derive(Debug, Clone, Copy)]
#[repr(i32)]
pub enum NativeBufferFormat {
    CLUT8 = 0,
    CLUT1 = 1,
    CLUT4 = 2,
    RGB_565 = 3,
    RGBA_5658 = 4,
    RGBX_4444 = 5,
    RGBA_4444 = 6,
    RGB_444 = 7,
    RGBX_5551 = 8,
    RGBA_5551 = 9,
    RGB_555 = 10,
    RGBX_8888 = 11,
    RGBA_8888 = 12,
    RGB_888 = 13,
    BGR_565 = 14,
    BGRX_4444 = 15,
    BGRA_4444 = 16,
    BGRX_5551 = 17,
    BGRA_5551 = 18,
    BGRX_8888 = 19,
    BGRA_8888 = 20,
    YUV_422_I = 21,
    YCBCR_422_SP = 22,
    YCRCB_422_SP = 23,
    YCBCR_420_SP = 24,
    YCRCB_420_SP = 25,
    YCBCR_422_P = 26,
    YCRCB_422_P = 27,
    YCBCR_420_P = 28,
    YCRCB_420_P = 29,
    YUYV_422_PKG = 30,
    UYVY_422_PKG = 31,
    YVYU_422_PKG = 32,
    VYUY_422_PKG = 33,
    RGBA_1010102 = 34,
    YCBCR_P010 = 35,
    YCRCB_P010 = 36,
    RAW10 = 37,
    VENDER_MASK = 2147418112,
    BUTT = 2147483647,
}

impl NativeBufferFormat {
    pub fn bytes_per_pixel(&self) -> usize {
        match self {
            Self::CLUT8 => 1,
            Self::CLUT1 => 1, // 通常以字节对齐
            Self::CLUT4 => 1, // 通常以字节对齐
            Self::RGB_565 => 2,
            Self::RGBA_5658 => 3,
            Self::RGBX_4444 => 2,
            Self::RGBA_4444 => 2,
            Self::RGB_444 => 2, // 通常以字节对齐
            Self::RGBX_5551 => 2,
            Self::RGBA_5551 => 2,
            Self::RGB_555 => 2,
            Self::RGBX_8888 => 4,
            Self::RGBA_8888 => 4,
            Self::RGB_888 => 3,
            Self::BGR_565 => 2,
            Self::BGRX_4444 => 2,
            Self::BGRA_4444 => 2,
            Self::BGRX_5551 => 2,
            Self::BGRA_5551 => 2,
            Self::BGRX_8888 => 4,
            Self::BGRA_8888 => 4,
            Self::YUV_422_I => 2,
            Self::YCBCR_422_SP => 2,
            Self::YCRCB_422_SP => 2,
            Self::YCBCR_420_SP => 2,
            Self::YCRCB_420_SP => 2,
            Self::YCBCR_422_P => 2,
            Self::YCRCB_422_P => 2,
            Self::YCBCR_420_P => 2,
            Self::YCRCB_420_P => 2,
            Self::YUYV_422_PKG => 2,
            Self::UYVY_422_PKG => 2,
            Self::YVYU_422_PKG => 2,
            Self::VYUY_422_PKG => 2,
            Self::RGBA_1010102 => 4,
            Self::YCBCR_P010 => 3,
            Self::YCRCB_P010 => 3,
            Self::RAW10 => 2,
            Self::VENDER_MASK => 0,
            Self::BUTT => 0,
        }
    }
}

impl From<i32> for NativeBufferFormat {
    fn from(value: i32) -> Self {
        match value {
            0 => Self::CLUT8,
            1 => Self::CLUT1,
            2 => Self::CLUT4,
            3 => Self::RGB_565,
            4 => Self::RGBA_5658,
            5 => Self::RGBX_4444,
            6 => Self::RGBA_4444,
            7 => Self::RGB_444,
            8 => Self::RGBX_5551,
            9 => Self::RGBA_5551,
            10 => Self::RGB_555,
            11 => Self::RGBX_8888,
            12 => Self::RGBA_8888,
            13 => Self::RGB_888,
            14 => Self::BGR_565,
            15 => Self::BGRX_4444,
            16 => Self::BGRA_4444,
            17 => Self::BGRX_5551,
            18 => Self::BGRA_5551,
            19 => Self::BGRX_8888,
            20 => Self::BGRA_8888,
            21 => Self::YUV_422_I,
            22 => Self::YCBCR_422_SP,
            23 => Self::YCRCB_422_SP,
            24 => Self::YCBCR_420_SP,
            25 => Self::YCRCB_420_SP,
            26 => Self::YCBCR_422_P,
            27 => Self::YCRCB_422_P,
            28 => Self::YCBCR_420_P,
            29 => Self::YCRCB_420_P,
            30 => Self::YUYV_422_PKG,
            31 => Self::UYVY_422_PKG,
            32 => Self::YVYU_422_PKG,
            33 => Self::VYUY_422_PKG,
            34 => Self::RGBA_1010102,
            35 => Self::YCBCR_P010,
            36 => Self::YCRCB_P010,
            37 => Self::RAW10,
            2147418112 => Self::VENDER_MASK,
            2147483647 => Self::BUTT,
            _ => Self::BUTT,
        }
    }
}
